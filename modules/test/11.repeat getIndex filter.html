<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>repeat getIndex filter</title>
    <script src="../../vendor/avalon/avalon.js"></script>
    <script>
        var index = 0
        var model = avalon.define({
            $id:"test",
            data:{
                aaa:1111,
                bbb:2222,
                ccc:3333,
                ddd:4444
            },
            keys:function (a) {
                console.log(a)
                console.log(this)
                return ["ccc","ddd","aaa"]
            },
            getIndex:function () {
                return index++
            }
        })
    </script>
</head>
<body ms-controller="test">
    <ul>
        <li ms-repeat="data" data-with-sorted="keys">{{getIndex()}}„ÄÅ{{$key}}--{{$val}}</li>
    </ul>
</body>
</html>